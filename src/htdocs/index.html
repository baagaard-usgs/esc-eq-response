<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0,
      maximum-scale=1.0, user-scalable=0" />
    <title>Earthquake Response App</title>
    <link rel="manifest" href="manifest.json" />
    <link rel="stylesheet" href="lib/leaflet/leaflet.css" />
    <link rel="stylesheet" href="css/index.css" />
  </head>
  <body>
    <header>
      <ul id="navBar" class="panes">
        <li><a href="#editPane">Edit</a></li>
        <li><a href="#mapPane">Map</a></li>
        <li><a href="#plotsPane">Plots</a></li>
        <li><a href="#summaryPane">Summary</a></li>
        <li><a href="#helpPane">Help</a></li>
      </ul>
    </header>
    <section id="editPane" class="pane">
      <div class="content lighter">
        <h1>Earthquake Response App</h1>
        <p>This web application creates a map, interactive plots and summary for
          an earthquake to help collect and digest information used in talking
          points and scientific response. Curious? Check out the
          <a href="/response/?eqid=nc72282711">2014 Napa earthquake</a>.</p>
        <p>Enter the <em>Mainshock</em> Event ID, then select &lsquo;Map&rsquo;,
          &lsquo;Plots&rsquo; or &lsquo;Summary&rsquo;.</p>
      </div>
      <div class="content darker">
        <form>
          <div class="mainshock">
            <h3>Mainshock</h3>
            <label for="eqid">
              <p>Event ID (2 letters followed by 5-8 characters)</p>
            </label>
            <input type="text" id="eqid" required="required"
              pattern="^[a-zA-Z]{2}[a-zA-Z0-9]{5,8}$" value="" tabindex="2" />
          </div>
          <div class="details"></div>
          <div class="aftershocks">
            <h3>Aftershocks</h3>
            <label for="aftershocks-minmag">
              <p>Min magnitude</p>
            </label>
            <input type="number" id="aftershocks-minmag" required="required"
            pattern="^[0-9.]+$" value="0" min="0" max="9" step="0.1" tabindex="3" />
            <label for="aftershocks-dist">
              <p>Max distance from mainshock (km)</p>
            </label>
            <input type="number" id="aftershocks-dist" required="required"
              pattern="^[0-9.]+$" value="" min="1" step="1" tabindex="4" />
          </div>
          <div class="foreshocks">
            <h3>Foreshocks</h3>
            <label for="foreshocks-minmag">
              <p>Min magnitude</p>
            </label>
            <input type="number" id="foreshocks-minmag" required="required"
            pattern="^[0-9.]+$" value="1" min="0" max="9" step="0.1" tabindex="5" />
            <label for="foreshocks-dist">
              <p>Max distance from mainshock (km)</p>
            </label>
            <input type="number" id="foreshocks-dist" required="required"
              pattern="^[0-9.]+$" value="" min="1" step="1" tabindex="6" />
            <label for="foreshocks-days">
              <p>Max days before mainshock</p>
            </label>
            <input type="number" id="foreshocks-days" required="required"
              pattern="^[0-9.]+$" value="30" min="1" step="1" tabindex="7" />
          </div>
          <div class="historical">
            <h3>Historical Seismicity</h3>
            <label for="historical-minmag">
              <p>Min magnitude</p>
            </label>
            <input type="number" id="historical-minmag" required="required"
            pattern="^[0-9.]+$" value="" min="0" max="9" step="0.1" tabindex="8" />
            <label for="historical-dist">
              <p>Max distance from mainshock (km)</p>
            </label>
            <input type="number" id="historical-dist" required="required"
              pattern="^[0-9.]+$" value="" min="1" step="1" tabindex="9" />
            <label for="historical-years">
              <p>Max years before mainshock</p>
            </label>
            <input type="number" id="historical-years" required="required"
              pattern="^[0-9.]+$" value="10" min="1" step="1" tabindex="10" />
          </div>
          <div class="meta">
            <button type="reset" class="reset">Reset</button>
            <button type="button" class="viewmap" disabled>View Map &rarr;</button>
            <p class="required">* All fields are required</p>
          </div>
        </form>
      </div>
      <div class="content lighter">
        <p class="comcat">Earthquake data is from ComCat:
          <a href="https://earthquake.usgs.gov/data/comcat/data-availability.php">
            ComCat Documentation - Data Availability</a>.
        </p>
      </div>
    </section>
    <section id="mapPane" class="pane">
      <div class="map"></div>
    </section>
    <section id="plotsPane" class="pane">
      <div class="features"></div>
    </section>
    <section id="summaryPane" class="pane">
      <div class="features"></div>
    </section>
    <section id="helpPane" class="pane">
      <div class="content lighter">
        <h2>Instructions</h2>
        <ol>
          <li>Enter the <em>Mainshock</em> Event ID
            <p>Select an earthquake from &lsquo;Significant Earthquakes in the
              Past Month&rsquo; or enter an Event ID manually.</p>
            <p>You can find an Event ID in the URL of an Event Page for a
              specific earthquake. For example:</p>
              <img src="img/eventid.png" alt="image showing the URL"
                class="eventid" />
            <h3>Find an Earthquake</h3>
            <ul class="find">
              <li><a href="https://earthquake.usgs.gov/earthquakes/map">Latest
                Earthquakes</a></li>
              <li><a href="https://earthquake.usgs.gov/earthquakes/search">Search
                Earthquake Archives</a></li>
            </ul>
          </li>
          <li>Tweak the parameters for <em>Aftershocks</em>,
            <em>Foreshocks</em> or <em>Historical Seismicity</em> (optional)
            <p>Initial values are set automatically based on the
              mainshock&rsquo;s magnitude and estimated rupture length.</p>
          </li>
          <li>Select the &lsquo;Map&rsquo;, &lsquo;Plots&rsquo; or
            &lsquo;Summary&rsquo; tab</li>
        </ol>
        <h2>Contact</h2>
        <ul>
          <li><a href="mailto:shaefner@usgs.gov">Scott Haefner</a></li>
          <li><a href="mailto:baagaard@usgs.gov">Brad Aagaard</a></li>
        </ul>
        <p class="github">
          <a href="https://github.com/shaefner-usgs/esc-eq-response">Github
            repository</a>
        </p>
      </div>
    </section>
    <div id="statusBar">
      <p class="initial">Loading&hellip;</p>
    </div>
  </body>
  <script src="lib/leaflet/leaflet.js"></script>
  <script src="https://cdn.plot.ly/plotly-gl3d-latest.min.js"></script>
  <script src="https://cdn.polyfill.io/v2/polyfill.js?features=Element.prototype.closest"></script>
  <script src="js/index.js"></script>
</html>
